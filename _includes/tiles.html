{% if 'posts' == site.tiles-source %}
  {% assign tiles = site.posts %}
{% elsif 'pages' == site.tiles-source %}
  {% assign tiles = site.html_pages | where_exp: "item", "item.show_tile != false" %}
{% endif %}

{%- assign tiles = tiles | sort: "order" -%}
{%- assign featured = tiles | where_exp: "i", "i.tile_featured == true" | first -%}
{%- if featured == nil -%}
  {%- assign featured = tiles | first -%}
{%- endif -%}

<section id="one" class="tiles">
  <!-- Featured oben -->
  <article class="featured">
    <span class="image">
      <img src="{{ featured.image }}" alt="{{ featured.title }}" />
    </span>
    <header class="major">
      <h3><a href="{{ featured.url | relative_url }}" class="link">{{ featured.title }}</a></h3>
      <p>{{ featured.description }}</p>
    </header>
  </article>

  <!-- zwei weitere Tiles -->
  {%- assign max_rest = site.tiles-count | minus: 1 -%}
  {%- assign shown = 0 -%}
  {%- for tile in tiles -%}
    {%- if tile.url != featured.url and shown < max_rest -%}
      <article>
        <span class="image">
          <img src="{{ tile.image }}" alt="{{ tile.title }}" />
        </span>
        <header class="major">
          <h3><a href="{{ tile.url | relative_url }}" class="link">{{ tile.title }}</a></h3>
          <p>{{ tile.description }}</p>
        </header>
      </article>
      {%- assign shown = shown | plus: 1 -%}
    {%- endif -%}
  {%- endfor -%}
</section>
